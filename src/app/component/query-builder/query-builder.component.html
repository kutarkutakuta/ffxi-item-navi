<div style="font-size: 0.8em">
  <nz-drawer
    [nzVisible]="visible"
    nzPlacement="right"
    [nzTitle]="'Query Builder'"
    (nzOnClose)="onclose()">
    <ng-container *nzDrawerContent>
      <div *ngIf="!isFood">
        <nz-select [(ngModel)]="lvType" style="width: 70px" (ngModelChange)="changeLvType()">
          <nz-option nzValue="IL" nzLabel="IL"></nz-option>
          <nz-option nzValue="LV" nzLabel="LV"></nz-option>
        </nz-select>
        <div nz-row>
          <div nz-col>
            <nz-space nzDirection="vertical" style="width: 100%">
              <nz-input-number-group *nzSpaceItem nzAddOnBefore="が" [nzAddOnAfter]="addOnAfterTemplate1">
                <nz-input-number [(ngModel)]="lvValue" [nzStep]="1" [nzMin]="0" [nzMax]="119" style="width: 70px"></nz-input-number>
              </nz-input-number-group>
              <ng-template #addOnAfterTemplate1>
                <nz-select [(ngModel)]="lvOperator" style="width: 140px;text-align: left;">
                  <nz-option nzValue=">" nzLabel="より大きい"></nz-option>
                  <nz-option nzValue="<" nzLabel="より小さい"></nz-option>
                  <nz-option nzValue=">=" nzLabel="以上"></nz-option>
                  <nz-option nzValue="<=" nzLabel="以下"></nz-option>
                  <nz-option nzValue="=" nzLabel="と等しい"></nz-option>
                  <nz-option nzValue="!=" nzLabel="と等しくない"></nz-option>
                </nz-select>
              </ng-template>
            </nz-space>
          </div>
          <div nz-col>
            <button nz-button nzType="primary" (click)="addQuery1()">Add</button>
          </div>
        </div>
      </div>
      <div *ngIf="isFood">
        <div nz-row>
          <div nz-col>
            <nz-space nzDirection="vertical" style="width: 100%">
              <nz-input-number-group *nzSpaceItem nzAddOnBefore="効果時間が" [nzAddOnAfter]="addOnAfterTemplate1">
                <nz-select [(ngModel)]="effectTime" style="width: 80px;text-align: left;">
                  <nz-option nzValue="180" nzLabel="3分"></nz-option>
                  <nz-option nzValue="300" nzLabel="5分"></nz-option>
                  <nz-option nzValue="600" nzLabel="10分"></nz-option>
                  <nz-option nzValue="1800" nzLabel="30分"></nz-option>
                  <nz-option nzValue="3600" nzLabel="1時間"></nz-option>
                  <nz-option nzValue="10800" nzLabel="3時間"></nz-option>
                </nz-select>
              </nz-input-number-group>
              <ng-template #addOnAfterTemplate1>
                <nz-select [(ngModel)]="effectOperator" style="width: 140px;text-align: left;">
                  <nz-option nzValue=">" nzLabel="より大きい"></nz-option>
                  <nz-option nzValue="<" nzLabel="より小さい"></nz-option>
                  <nz-option nzValue=">=" nzLabel="以上"></nz-option>
                  <nz-option nzValue="<=" nzLabel="以下"></nz-option>
                  <nz-option nzValue="=" nzLabel="と等しい"></nz-option>
                  <nz-option nzValue="!=" nzLabel="と等しくない"></nz-option>
                </nz-select>
              </ng-template>
            </nz-space>
          </div>
          <div nz-col>
            <button nz-button nzType="primary" (click)="addQuery3()">Add</button>
          </div>
        </div>
      </div>
      <div nz-row style="padding-top: 10px;">
        <nz-select [(ngModel)]="target" style="width: 70px">
          <nz-option nzValue="PC" nzLabel="PC"></nz-option>
          <nz-option nzValue="PET" nzLabel="PET"></nz-option>
        </nz-select>
        <nz-tree-select
          style="width: 260px"
          [nzNodes]="nodes"
          nzShowSearch
          nzPlaceHolder="ステータス"
          nzVirtualHeight="50vh"
          [(ngModel)]="statusKey"
          (ngModelChange)="changeStatus()"></nz-tree-select>
      </div>
      <div nz-row>
        <div nz-col>
          <nz-space nzDirection="vertical" style="width: 100%">
            <nz-input-number-group *nzSpaceItem nzAddOnBefore="が" [nzAddOnAfter]="addOnAfterTemplate2">
              <nz-input-number [(ngModel)]="statusValue" [nzStep]="statusStep" style="width: 70px"></nz-input-number>
            </nz-input-number-group>
            <ng-template #addOnAfterTemplate2>
              <nz-select [(ngModel)]="statusOperator" style="width: 140px;text-align: left;">
                <nz-option nzValue=">" nzLabel="より大きい"></nz-option>
                <nz-option nzValue="<" nzLabel="より小さい"></nz-option>
                <nz-option nzValue=">=" nzLabel="以上"></nz-option>
                <nz-option nzValue="<=" nzLabel="以下"></nz-option>
                <nz-option nzValue="=" nzLabel="と等しい"></nz-option>
                <nz-option nzValue="!=" nzLabel="と等しくない"></nz-option>
              </nz-select>
            </ng-template>
          </nz-space>
        </div>
        <div nz-col>
          <button nz-button nzType="primary" (click)="addQuery2()">Add</button>
        </div>
      </div>
    </ng-container>
  </nz-drawer>
</div>
